{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Connexion - Notations</title>
	<link rel="stylesheet" href="{% static 'css/base_connexion.css' %}">
	<script>
		// Éviter le flash de thème - exécution immédiate
		(function () {
			const savedTheme = localStorage.getItem('theme') || localStorage.getItem('admin-theme');
			const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
				document.documentElement.classList.add('dark-theme');
			}
		})();
	</script>
</head>
<body>
    <!-- Navigation principale -->
    <header>
        <nav class="header-nav" role="navigation" aria-label="Navigation principale">
            <a href="/" class="logo" aria-label="Retour à l'accueil MonApp Pro">
                ABC
            </a>
            <div class="admin-nav">
                <a href="/admin" class="admin-link" aria-label="Accès administration">
                    <span class="admin-icon" aria-hidden="true">🔐</span>
                    Admin
                </a>
                <button 
                    class="theme-toggle" 
                    id="theme-toggle"
                    aria-label="Basculer entre thème clair et sombre"
                    title="Changer de thème"
                >
                    <span class="theme-icon" aria-hidden="true">🌙</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Contenu principal -->
    <main class="main-content">
        <section class="login-section" aria-labelledby="login-title">
			<h1 id="login-title" class="login-title">Connexion 🔐</h
            
            <form class="login-form" method="post" action="/login" novalidate aria-describedby="security-info">
                <div class="form-field">
                    <label for="username">Identifiant</label>
                    <input 
                        type="text" 
                        id="username" 
                        name="username"
                        required 
                        autocomplete="username"
                        placeholder="Identifiant"
                        aria-describedby="username-help"
                        minlength="3"
                        maxlength="50"
                    >
                </div>

                <div class="form-field">
                    <label for="password">Mot de passe</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password"
                        required 
                        autocomplete="current-password"
                        placeholder="Mot de passe"
                        aria-describedby="password-help"
                        minlength="8"
                    >
                </div>

                <button type="submit" class="submit-button">
                    Se connecter
                </button>
            </form>
{% comment %} 
            <aside class="security-info" id="security-info" role="complementary">
                <p>
                    <span class="security-icon" aria-hidden="true">🔒</span>
                    Informations de connexion sécurisées
                </p>
            </aside>
{% endcomment %}	    
        </section>
    </main>
<script src="{% static 'js/loginManager.js' %}"></script>
<script src="{% static 'js/user-login.js' %}"></script>

	</body>
	
	</html>
